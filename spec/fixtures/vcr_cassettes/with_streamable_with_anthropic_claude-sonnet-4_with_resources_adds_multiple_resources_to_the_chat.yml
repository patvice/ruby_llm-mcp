---
http_interactions:
- request:
    method: post
    uri: https://api.anthropic.com/v1/messages
    body:
      encoding: UTF-8
      string: '{"model":"claude-sonnet-4-20250514","messages":[{"role":"user","content":[{"type":"text","text":"plain_text.txt:
        A plain text file\n\nPlan text information"}]},{"role":"user","content":[{"type":"text","text":"test.txt:
        A text file\n\nHello, this is a test file!\nThis content will be served by
        the MCP resource.\nYou can modify this file and it will be cached for 5 minutes.\n"}]},{"role":"user","content":[{"type":"text","text":"second_file.txt:
        A second text file\n\nThis is the second file that I want to be able to use
        as a resource\n"}]},{"role":"user","content":[{"type":"text","text":"my.md:
        A markdown file\n\n# My Markdown File\n\nThis is a markdown file that I want
        to be able to use as a resource\n\n## Section 1\n\nThis is a section in my
        markdown file\n\n## Section 2\n\nThis is another section in my markdown file\n"}]},{"role":"user","content":[{"type":"text","text":"What
        information do you have from the provided resources?"}]}],"temperature":0.7,"stream":false,"max_tokens":64000}'
    headers:
      User-Agent:
      - Faraday v2.13.1
      X-Api-Key:
      - "<ANTHROPIC_API_KEY>"
      Anthropic-Version:
      - '2023-06-01'
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Sat, 01 Nov 2025 15:54:45 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Anthropic-Ratelimit-Input-Tokens-Limit:
      - '30000'
      Anthropic-Ratelimit-Input-Tokens-Remaining:
      - '30000'
      Anthropic-Ratelimit-Input-Tokens-Reset:
      - '2025-11-01T15:54:41Z'
      Anthropic-Ratelimit-Output-Tokens-Limit:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Remaining:
      - '8000'
      Anthropic-Ratelimit-Output-Tokens-Reset:
      - '2025-11-01T15:54:47Z'
      Anthropic-Ratelimit-Requests-Limit:
      - '50'
      Anthropic-Ratelimit-Requests-Remaining:
      - '49'
      Anthropic-Ratelimit-Requests-Reset:
      - '2025-11-01T15:54:40Z'
      Retry-After:
      - '20'
      Anthropic-Ratelimit-Tokens-Limit:
      - '38000'
      Anthropic-Ratelimit-Tokens-Remaining:
      - '38000'
      Anthropic-Ratelimit-Tokens-Reset:
      - '2025-11-01T15:54:41Z'
      Request-Id:
      - "<REQUEST_ID>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      Anthropic-Organization-Id:
      - e1031ea3-bbf0-4676-9f23-42dec1e708ae
      X-Envoy-Upstream-Service-Time:
      - '5723'
      Cf-Cache-Status:
      - DYNAMIC
      X-Robots-Tag:
      - none
      Server:
      - cloudflare
      Cf-Ray:
      - "<CF_RAY>"
      Server-Timing:
      - cfReqDur;dur=5773.5
      Cf-Team:
      - 2ae1b9d79100011ea6dacd9400000001
    body:
      encoding: ASCII-8BIT
      string: '{"model":"claude-sonnet-4-20250514","id":"msg_01Xi8GDKoqujhjW468zJCjhF","type":"message","role":"assistant","content":[{"type":"text","text":"Based
        on the provided resources, I have access to information from 4 files:\n\n##
        1. plain_text.txt\n- Contains: \"Plan text information\"\n\n## 2. test.txt  \n-
        Contains: \"Hello, this is a test file!\"\n- Additional context: \"This content
        will be served by the MCP resource.\"\n- Note: \"You can modify this file
        and it will be cached for 5 minutes.\"\n\n## 3. second_file.txt\n- Contains:
        \"This is the second file that I want to be able to use as a resource\"\n\n##
        4. my.md (Markdown file)\n- Title: \"My Markdown File\"\n- Description: \"This
        is a markdown file that I want to be able to use as a resource\"\n- Contains
        two sections:\n  - **Section 1**: \"This is a section in my markdown file\"\n  -
        **Section 2**: \"This is another section in my markdown file\"\n\nThese appear
        to be sample files demonstrating different types of text resources (plain
        text, test content, and markdown) that can be accessed through an MCP (Model
        Context Protocol) resource system with caching capabilities."}],"stop_reason":"end_turn","stop_sequence":null,"usage":{"input_tokens":165,"cache_creation_input_tokens":0,"cache_read_input_tokens":0,"cache_creation":{"ephemeral_5m_input_tokens":0,"ephemeral_1h_input_tokens":0},"output_tokens":262,"service_tier":"standard"}}'
  recorded_at: Sat, 01 Nov 2025 15:54:45 GMT
recorded_with: VCR 6.3.1
