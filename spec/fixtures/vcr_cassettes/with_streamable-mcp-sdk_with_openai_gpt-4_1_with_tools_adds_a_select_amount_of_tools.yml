---
http_interactions:
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4.1","messages":[{"role":"user","content":"Can you tell
        me the weather for Ottawa and San Francisco?"}],"stream":false,"tools":[{"type":"function","function":{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","parameters":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":["locations"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}},{"type":"function","function":{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","parameters":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":["latitude","longitude"],"additionalProperties":false}},"required":["geocode"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <OPENAI_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 16 Feb 2026 17:24:59 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '853'
      Openai-Project:
      - proj_70GvpxWwXEXq1CaJmiZwOaVX
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '500'
      X-Ratelimit-Limit-Tokens:
      - '30000'
      X-Ratelimit-Remaining-Requests:
      - '499'
      X-Ratelimit-Remaining-Tokens:
      - '28944'
      X-Ratelimit-Reset-Requests:
      - 120ms
      X-Ratelimit-Reset-Tokens:
      - 2.111s
      X-Request-Id:
      - "<X_REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-D9wd89Ihd7z4k1aXMchUA9xo5ielu",
          "object": "chat.completion",
          "created": 1771262698,
          "model": "gpt-4.1-2025-04-14",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": null,
                "tool_calls": [
                  {
                    "id": "call_S054spEH0qbiMPNFPBkKx5ii",
                    "type": "function",
                    "function": {
                      "name": "get_weather_from_locations",
                      "arguments": "{\"locations\": [\"Ottawa\"]}"
                    }
                  },
                  {
                    "id": "call_ouYNl2rGQSG3UeRoDzDySylc",
                    "type": "function",
                    "function": {
                      "name": "get_weather_from_locations",
                      "arguments": "{\"locations\": [\"San Francisco\"]}"
                    }
                  }
                ],
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "tool_calls"
            }
          ],
          "usage": {
            "prompt_tokens": 96,
            "completion_tokens": 52,
            "total_tokens": 148,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_f8bea53fbd"
        }
  recorded_at: Mon, 16 Feb 2026 17:24:59 GMT
- request:
    method: post
    uri: https://api.openai.com/v1/chat/completions
    body:
      encoding: UTF-8
      string: '{"model":"gpt-4.1","messages":[{"role":"user","content":"Can you tell
        me the weather for Ottawa and San Francisco?"},{"role":"assistant","tool_calls":[{"id":"call_S054spEH0qbiMPNFPBkKx5ii","type":"function","function":{"name":"get_weather_from_locations","arguments":"{\"locations\":[\"Ottawa\"]}"}},{"id":"call_ouYNl2rGQSG3UeRoDzDySylc","type":"function","function":{"name":"get_weather_from_locations","arguments":"{\"locations\":[\"San
        Francisco\"]}"}}]},{"role":"tool","content":"Weather for Ottawa is great!","tool_call_id":"call_S054spEH0qbiMPNFPBkKx5ii"},{"role":"tool","content":"Weather
        for San Francisco is great!","tool_call_id":"call_ouYNl2rGQSG3UeRoDzDySylc"}],"stream":false,"tools":[{"type":"function","function":{"name":"get_weather_from_locations","description":"Get
        the weather from a list of locations","parameters":{"type":"object","properties":{"locations":{"type":"array","items":{"type":"string"}}},"required":["locations"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}},{"type":"function","function":{"name":"get_weather_from_geocode","description":"Get
        the weather from a list of locations","parameters":{"type":"object","properties":{"geocode":{"type":"object","properties":{"latitude":{"type":"number"},"longitude":{"type":"number"}},"required":["latitude","longitude"],"additionalProperties":false}},"required":["geocode"],"additionalProperties":false,"$schema":"http://json-schema.org/draft-07/schema#"}}}]}'
    headers:
      User-Agent:
      - Faraday v2.14.1
      Authorization:
      - Bearer <OPENAI_API_KEY>
      Content-Type:
      - application/json
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Mon, 16 Feb 2026 17:25:00 GMT
      Content-Type:
      - application/json
      Transfer-Encoding:
      - chunked
      Connection:
      - keep-alive
      Access-Control-Expose-Headers:
      - X-Request-ID
      Openai-Organization:
      - "<OPENAI_ORGANIZATION>"
      Openai-Processing-Ms:
      - '723'
      Openai-Project:
      - proj_70GvpxWwXEXq1CaJmiZwOaVX
      Openai-Version:
      - '2020-10-01'
      Server:
      - cloudflare
      X-Ratelimit-Limit-Requests:
      - '500'
      X-Ratelimit-Limit-Tokens:
      - '30000'
      X-Ratelimit-Remaining-Requests:
      - '499'
      X-Ratelimit-Remaining-Tokens:
      - '29429'
      X-Ratelimit-Reset-Requests:
      - 120ms
      X-Ratelimit-Reset-Tokens:
      - 1.141s
      X-Request-Id:
      - "<X_REQUEST_ID>"
      X-Openai-Proxy-Wasm:
      - v0.1
      Cf-Cache-Status:
      - DYNAMIC
      Set-Cookie:
      - "<COOKIE>"
      Strict-Transport-Security:
      - max-age=31536000; includeSubDomains; preload
      X-Content-Type-Options:
      - nosniff
      Cf-Ray:
      - "<CF_RAY>"
      Alt-Svc:
      - h3=":443"; ma=86400
    body:
      encoding: ASCII-8BIT
      string: |
        {
          "id": "chatcmpl-D9wd99puDj0h9xxTkPHzLUaPkGKbh",
          "object": "chat.completion",
          "created": 1771262699,
          "model": "gpt-4.1-2025-04-14",
          "choices": [
            {
              "index": 0,
              "message": {
                "role": "assistant",
                "content": "The weather for Ottawa is great! The weather for San Francisco is also great!\n\nIf you need more detailed or current weather conditions (like temperature, humidity, or forecasts), let me know!",
                "refusal": null,
                "annotations": []
              },
              "logprobs": null,
              "finish_reason": "stop"
            }
          ],
          "usage": {
            "prompt_tokens": 174,
            "completion_tokens": 39,
            "total_tokens": 213,
            "prompt_tokens_details": {
              "cached_tokens": 0,
              "audio_tokens": 0
            },
            "completion_tokens_details": {
              "reasoning_tokens": 0,
              "audio_tokens": 0,
              "accepted_prediction_tokens": 0,
              "rejected_prediction_tokens": 0
            }
          },
          "service_tier": "default",
          "system_fingerprint": "fp_f8bea53fbd"
        }
  recorded_at: Mon, 16 Feb 2026 17:25:00 GMT
recorded_with: VCR 6.4.0
